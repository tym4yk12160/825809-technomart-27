"use strict";var btnShowMap=document.querySelector(".js-map"),map=document.querySelector(".modal-map"),closeMap=document.querySelector(".btn-close-map"),btnShowBuy=document.querySelectorAll(".btn-buy"),buy=document.querySelector(".modal-add-product"),closeBuy=document.querySelector(".modal-product-btn-close"),btnRed=document.querySelector(".basket-header-js"),bookmarkRed=document.querySelectorAll(".bookmark-js"),btnRedBookmark=document.querySelector(".bookmark-header-js"),btnShowWriteUs=document.querySelector(".btn-write-us"),closeWriteUs=document.querySelector(".close-write-us"),writeUs=document.querySelector(".modal-write-us"),storage=localStorage.getItem("login");if(btnShowWriteUs&&writeUs&&closeWriteUs){var form=writeUs.querySelector("form"),login=writeUs.querySelector("[name=login]"),email=writeUs.querySelector("[name=email]"),textletter=writeUs.querySelector("[name=textletter]");btnShowWriteUs.addEventListener("click",function(e){e.preventDefault(),writeUs.classList.add("popup-show"),login.focus(),storage?(login.value=storage,email.focus()):login.focus()}),closeWriteUs.addEventListener("click",function(e){e.preventDefault(),writeUs.classList.remove("popup-show"),writeUs.classList.remove("modal-error")}),form.addEventListener("submit",function(e){login.value&&email.value&&textletter.value?(localStorage.setItem("login",login.value),localStorage.setItem("email",email.value)):(e.preventDefault(),writeUs.classList.add("modal-error"))}),window.addEventListener("keydown",function(e){27===e.keyCode&&writeUs.classList.contains("popup-show")&&(writeUs.classList.remove("popup-show"),writeUs.classList.remove("modal-error"))})}for(var i=0;i<btnShowBuy.length;i++)btnShowBuy[i].addEventListener("click",function(e){e.preventDefault(),buy.classList.add("popup-show"),btnRed.classList.add("btn-red-basket")});for(var j=0;j<bookmarkRed.length;j++)bookmarkRed[j].addEventListener("click",function(e){e.preventDefault(),btnRedBookmark.classList.add("btn-red-basket")});closeBuy.addEventListener("click",function(e){e.preventDefault(),buy.classList.remove("popup-show")}),window.addEventListener("keydown",function(e){27===e.keyCode&&buy.classList.contains("popup-show")&&buy.classList.remove("popup-show")}),btnShowMap.addEventListener("click",function(e){e.preventDefault(),map.classList.add("popup-show")}),closeMap.addEventListener("click",function(e){e.preventDefault(),map.classList.remove("popup-show")}),window.addEventListener("keydown",function(e){27===e.keyCode&&map.classList.contains("popup-show")&&map.classList.remove("popup-show")});